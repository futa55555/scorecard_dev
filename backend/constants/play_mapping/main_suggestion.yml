# by_batは打撃起因の進塁
# by_batにおける fielding_sequence = null は(打者)で処理したいとき。
# out_type = null は理由なくstepの進塁を実装すればいい
# stepは他のランナーに強要する進塁

# ゴロ
- key:
    position: [P, C, FB, SB, TB, SS, LF, CF, RF]
    batted_ball_type: [ground]
  candidates:
    - label: "1塁送球（打者アウト）"
      events:
        - fielding_sequence: [0, 1]
          advances:
            -
              runners: [0]
              out_type: force
            -
              runners: [1, 2, 3]
              step: 1
    - label: "2塁送球（1塁ランナーアウト）"
      runner_condition: "1xx"
      events:
        - fielding_sequence: [0, 2]
          advances:
            -
              runners: [1]
              out_type: force
            -
              runners: [0, 2, 3]
              step: 1
    - label: "3塁送球（2塁ランナーアウト）"
      runner_condition: "11x"
      events:
        - fielding_sequence: [0, 3]
          advances:
            -
              runners: [2]
              out_type: force
            -
              runners: [0, 1, 3]
              step: 1
    - label: "3塁送球（2塁ランナーアウト）"
      runner_condition: "01x"
      events:
        - fielding_sequence: [0, 3]
          advances:
            -
              runners: [2]
              out_type: touch
            -
              runners: [0, 1, 3]
              step: 1
    - label: "本塁送球（3塁ランナーアウト）"
      runner_condition: "111"
      events:
        - fielding_sequence: [0, 4]
          advances:
            -
              runners: [3]
              out_type: force
            -
              runners: [0, 1, 2]
              step: 1
    - label: "本塁送球（3塁ランナーアウト）"
      runner_condition: "001"
      events:
        - fielding_sequence: [0, 4]
          advances:
            -
              runners: [3]
              out_type: touch
            -
              runners: [0, 1, 2]
              step: 1
- key:
    position: [P, C, FB, SB, TB, SS]
    batted_ball_type: [ground]
  candidates:
    - label: "2塁送球（1塁ランナーアウト） -> 1塁転送（打者アウト）"
      runner_condition: "1xx"
      out_condition: 1
      events:
        - fielding_sequence: [0, 2]
          advances:
            -
              runners: [1]
              out_type: force
        - fielding_sequence: [null, 1]
          advances:
            -
              runners: [0]
              out_type: force
            -
              runners: [2, 3]
              step: 1
- key:
    position: [P, C, FB, SB, TB, SS]
    batted_ball_type: [ground]
  candidates:
    - label: "本塁送球（3塁ランナーアウト） -> 1塁転送（打者アウト）"
      runner_condition: "111"
      out_condition: 1
      events:
        - fielding_sequence: [0, 4]
          advances:
            -
              runners: [3]
              out_type: force
        - fielding_sequence: [null, 1]
          advances:
            -
              runners: [0]
              out_type: force
            -
              runners: [1, 2]
              step: 1
- key:
    position: [P, TB, SS]
    batted_ball_type: [ground]
  candidates:
    - label: "2塁送球（2塁ランナーアウト）"
      runner_condition: "01x"
      events:
        - fielding_sequence: [0, 2]
          advances:
            -
              runners: [2]
              out_type: touch
            -
              runners: [0, 1, 3]
              step: 1
- key:
    position: [P, TB]
    batted_ball_type: [ground]
  candidates:
    - label: "3塁送球（2塁ランナーアウト） -> 1塁転送（打者アウト）"
      runner_condition: "11x"
      out_condition: 1
      events:
        - fielding_sequence: [0, 3]
          advances:
            -
              runners: [2]
              out_type: force
        - fielding_sequence: [null, 1]
          advances:
            -
              runners: [0]
              out_type: force
            -
              runners: [1, 3]
              step: 1
    - label: "3塁送球（2塁ランナーアウト） -> 2塁転送（1塁ランナーアウト）"
      runner_condition: "11x"
      out_condition: 1
      events:
        - fielding_sequence: [0, 3]
          advances:
            -
              runners: [2]
              out_type: force
        - fielding_sequence: [null, 2]
          advances:
            -
              runners: [1]
              out_type: force
            -
              runners: [0, 3]
              step: 1
- key:
    position: [TB]
    batted_ball_type: [ground]
  candidates:
    - label: "3塁送球（2塁ランナーアウト） -> 2塁転送（1塁ランナーアウト） -> 1塁転送（打者アウト）"
      runner_condition: "11x"
      out_condition: 0
      events:
        - fielding_sequence: [0, 3]
          advances:
            -
              runners: [2]
              out_type: force
        - fielding_sequence: [null, 2]
          advances:
            -
              runners: [1]
              out_type: force
        - fielding_sequence: [null, 1]
          advances:
            -
              runners: [0]
              out_type: force
            -
              runners: [3]
              step: 1

# フライ、ライナー、ファウルフライ、ファウルライナー
- key:
    position: [P, C, FB, SB, TB, SS, LF, CF, RF]
    batted_ball_type: [fly, liner, foul_fly, foul_liner]
  candidates:
    - label: "捕球（打者アウト）"
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
    - label: "捕球（打者アウト） -> 1塁送球（1塁ランナーアウト）"
      runner_condition: "1xx"
      out_condition: 1
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
        - fielding_sequence: [null, 1]
          advances:
            -
              runners: [1]
              out_type: force
            -
              runners: [2, 3]
              step: 0
    - label: "捕球（打者アウト） -> 2塁送球（2塁ランナーアウト）"
      runner_condition: "x1x"
      out_condition: 1
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
        - fielding_sequence: [null, 2]
          advances:
            -
              runners: [2]
              out_type: force
            -
              runners: [1, 3]
              step: 0
    - label: "捕球（打者アウト） -> 3塁送球（3塁ランナーアウト）"
      runner_condition: "xx1"
      out_condition: 1
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
        - fielding_sequence: [null, 3]
          advances:
            -
              runners: [3]
              out_type: force
            -
              runners: [1, 2]
              step: 0
    - label: "捕球（打者アウト） -> タッチアップ成功（3塁ランナー生還）"
      runner_condition: "xx1"
      out_condition: 1
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
        - fielding_sequence: [null, 4]
          advances:
            -
              runners: [3]
              out_type: safe
            -
              runners: [1, 2]
              step: 0
    - label: "捕球（打者アウト） -> タッチアップ失敗（3塁ランナーアウト）"
      runner_condition: "xx1"
      out_condition: 1
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
        - fielding_sequence: [null, 4]
          advances:
            -
              runners: [3]
              out_type: touch
            -
              runners: [1, 2]
              step: 0
    - label: "捕球（打者アウト） -> タッチアップ成功（2塁ランナーセーフ）"
      runner_condition: "x1x"
      out_condition: 1
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
        - fielding_sequence: [null, 3]
          advances:
            -
              runners: [2]
              out_type: safe
            -
              runners: [1, 3]
              step: 0
    - label: "捕球（打者アウト） -> タッチアップ失敗（2塁ランナーアウト）"
      runner_condition: "x1x"
      out_condition: 1
      events:
        - fielding_sequence: [0]
          advances:
            -
              runners: [0]
              out_type: force
        - fielding_sequence: [null, 3]
          advances:
            -
              runners: [2]
              out_type: touch
            -
              runners: [1, 3]
              step: 0

# 安打
- key:
    position: [P, C, FB, SB, TB, SS, LF, CF, RF]
    batted_ball_type: [one_base_hit]
  candidates:
    - label: "単打"
      events:
        - fielding_sequence: [0]
          advances:
            -
              runner: [0, 1, 2, 3]
              step: 1

# 2塁打
- key:
    position: [P, C, FB, SB, TB, SS, LF, CF, RF]
    batted_ball_type: [two_base_hit]
  candidates:
    - label: "2塁打"
      events:
        - fielding_sequence: [0]
          advances:
            -
              runner: [0, 1, 2, 3]
              step: 2
    - label: "エンタイトルツーベース"
      events:
        - fielding_sequence: [0]
          advances:
            -
              runner: [0, 1, 2, 3]
              step: 2

# 3塁打
- key:
    position: [P, C, FB, SB, TB, SS, LF, CF, RF]
    batted_ball_type: [three_base_hit]
  candidates:
    - label: "3塁打"
      events:
        - fielding_sequence: [0]
          advances:
            -
              runner: [0, 1, 2, 3]
              step: 3

# 本塁打
- key:
    position: [P, C, FB, SB, TB, SS, LF, CF, RF]
    batted_ball_type: [homerun]
  candidates:
    - label: "本塁打"
      events:
        - fielding_sequence: [0]
          advances:
            -
              runner: [0, 1, 2, 3]
              step: 4
    - label: "ランニングホームラン"
      events:
        - fielding_sequence: [0]
          advances:
            -
              runner: [0, 1, 2, 3]
              step: 4
